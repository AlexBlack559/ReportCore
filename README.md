## Ядро для вёрстки билетов к экзаменам в LaTeX

> Обратная совместимость не гарантируется, поэтому если какой-то проект использует более старую версию, то лучше её и использовать

### Инструкция по применению

Допустим, что предстоит экзамен по вычислительной математике. Нужно:

0. создать директорию для нового проекта (например `~/Uni/calc`)

0. поместить в неё файл со списком билетов (например `tickets.txt`), где каждый билет начинается с новой строки (+ пустая строка в конце файла)

0. клонировать в эту директорию само ядро с помощью `git clone https://github.com/taxnuke/collocore.git`

0. для инициализации проекта выполнить `./collocore/init.sh <путь к списку билетов>`

0. для перегонки билетов в карточки списка Trello выполнить `./collocore/trello.js <путь к списку билетов> --key <ключ_API_Trello> --token <токен_API_Trello> --list <ID_списка_Trello>`


### Устройство collocore, назначение директорий, файлы подключения библиотек и тд.

|    Файл        |                       Роль                                   |
| :------------: | :----------------------------------------------------------: |
| `core.tex`     | самый главный файл, совершает все импорты и вызовы           |
| `packages.tex` | подключает всякие зависимости, окружения LaTeX               |
| `custom.tex`   | для кастомных макросов, логики ядра и блоков текста          |
| `structs.tex`  | форматы нумерации и всё, что определяет структуру документа  |
| `provision`    | "провизия" для автоматической генерации новых проектов       |
| `init.sh`      | скрипт создания нового проекта для использования с collocore |
| `trello.js`    | скрипт создания карточек для билетов в Trello                |

### Конфигурирование

Чтобы всё работало, у проекта, который это ядро использует, должен быть файл `config.tex`. Примерное содержание данного файла:

```
%============================НАСТРОЙКИ============================
\def \startTicket{1} % С какого билета начать
\def \endTicket{8}   % Каким билетом закончить

[watch|print|phone|debug|microprint]
\setTargetDevice{print} % Целевой девайс

\toggletrue{paginate} % Начинать каждый билет с новой страницы
%=================================================================
```

В примере выше указаны 8 билетов, они автоматически подтянутся из дирекотрии `src/tickets` по соответствующим именам файлов, а также конфигурация, в которой нужно рендерить проект, в текущей версии поддерживаются Apple Watch, лист формата А4, средний экран телефона, режим отладки с большим полем для аннотаций, и микропечать.

### Почему "Collocore"?

Потому что изначально было создано для подготовки к однотипным коллоквиумам по высшей математике.
